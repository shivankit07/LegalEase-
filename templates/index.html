<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LegalEase â€” Your Free AI Lawyer</title>
<link rel="stylesheet" href="/static/style.css">
<link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">

</head>
<body>

<div class="blob blob1"></div>
<div class="blob blob2"></div>
<div class="blob blob3"></div>

<nav>
  <div class="logo">âš–ï¸ LegalEase</div>
  <div class="nav-links">
    <a href="#how">How it works</a>
    <a href="#telegram">Telegram</a>
    <a href="#analyze">Analyze</a>
    <a href="#analyze" class="nav-cta">Try Free â†’</a>
  </div>
</nav>

<section class="hero">
  <div class="hero-content">
    <div class="hero-badge">
      <div class="live-dot"></div>
      AI Legal Engine Â· Powered by Gemini
    </div>
    <h1>Your free <span class="gradient">AI lawyer</span> is ready.</h1>
    <p>Don't sign anything you don't understand. Upload any contract and LegalEase tells you the risks, red flags, and exactly what you're agreeing to â€” in plain language, in seconds.</p>
    <div class="hero-actions">
      <a href="#analyze" class="btn-primary">ğŸ“„ Analyze My Contract</a>
      <a href="https://web.telegram.org/k/#@AiWakeel_bot" target="_blank" class="btn-secondary">ğŸ’¬ Telegram Bot</a>
    </div>
  </div>

  <div class="hero-visual">
    <div class="glass-card">
      <div class="card-header">
        <div class="doc-icon">ğŸ“„</div>
        <div>
          <div class="doc-name">rental_agreement.pdf</div>
          <div class="doc-sub">Analyzed just now Â· 2.4 MB</div>
        </div>
      </div>
      <div class="risk-row danger"><span>âš ï¸</span><span><strong>Clause 4:</strong> Landlord entry without notice â€” Unfair</span></div>
      <div class="risk-row warn"><span>âš¡</span><span><strong>Clause 9:</strong> You pay all repairs above â‚¹500 â€” Negotiate</span></div>
      <div class="risk-row safe"><span>âœ…</span><span><strong>Rent & Duration:</strong> Standard terms â€” Safe</span></div>
      <div class="verdict-pill">âš ï¸ Negotiate Before Signing</div>
    </div>
  </div>
</section>

<div class="stats">
  <div class="stat"><div class="stat-num">4B+</div><div class="stat-label">Can't afford a lawyer</div></div>
  <div class="stat"><div class="stat-num">90%</div><div class="stat-label">Never read full contracts</div></div>
  <div class="stat"><div class="stat-num">â‚¹0</div><div class="stat-label">Cost to use LegalEase</div></div>
  <div class="stat"><div class="stat-num">10s</div><div class="stat-label">Average analysis time</div></div>
</div>

<section class="section" id="how">
  <div class="section-tag">âœ¨ How It Works</div>
  <div class="section-title">Three steps to legal clarity</div>
  <p class="section-sub">No legal background needed. No sign-up. No cost. Just upload and understand.</p>
  <div class="steps">
    <div class="step">
      <div class="step-num">01</div>
      <div class="step-icon">ğŸ“¤</div>
      <div class="step-title">Upload Your Contract</div>
      <p class="step-desc">Drop any PDF â€” rental lease, job offer, vendor contract, or terms of service. Or send it straight to our Telegram bot.</p>
    </div>
    <div class="step">
      <div class="step-num">02</div>
      <div class="step-icon">ğŸ¤–</div>
      <div class="step-title">AI Reads Everything</div>
      <p class="step-desc">Gemini AI scans every clause, identifies risky language, unfair terms, and hidden obligations buried in legal jargon.</p>
    </div>
    <div class="step">
      <div class="step-num">03</div>
      <div class="step-icon">âœ…</div>
      <div class="step-title">Understand & Decide</div>
      <p class="step-desc">Get a plain English breakdown with risk flags, safe clauses, a full summary, and a clear verdict â€” Sign, Negotiate, or Avoid.</p>
    </div>
  </div>
</section>

<!-- ANALYZER SECTION -->
<section class="analyzer-section" id="analyze">
  <div class="section-tag">ğŸ” Live Tool</div>
  <div class="section-title">Analyze any contract</div>
  <p class="section-sub">Upload your PDF and get an instant AI-powered legal analysis.</p>
  <div class="analyzer-wrapper">

    <!-- LEFT: sticky upload column -->
    <div class="upload-col">
      <div class="upload-area" id="uploadArea">
        <input type="file" id="fileInput" accept=".pdf" onchange="handleFileSelect(this)">
        <div class="upload-icon">ğŸ“</div>
        <div class="upload-text">
          <div class="upload-title" id="uploadTitle">Drop your contract here</div>
          <div class="upload-sub" id="uploadSub">PDF only Â· Max 10MB Â· Click or drag</div>
        </div>
      </div>
      <button class="analyze-btn" id="analyzeBtn" onclick="runAnalysis()">ğŸ” &nbsp;Analyze Contract</button>
      <div class="error-msg" id="errorMsg"></div>
    </div>

    <!-- RIGHT: results column -->
    <div>
      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>AI is reading your contract...</p>
      </div>
      <div class="results-panel" id="results"></div>
    </div>

  </div>
</section>

<!-- TELEGRAM BOT ROLES -->
<section class="telegram-section" id="telegram">
  <div class="section-tag">ğŸ’¬ Telegram Bot</div>
  <div class="section-title">Two powerful bot roles</div>
  <p class="section-sub">The Telegram bot isn't just a second door â€” it has its own unique superpowers the web app can't match.</p>

  <div class="telegram-wrapper">
    <div class="role-card qa">
      <div class="role-tag qa">âš¡ Role 1</div>
      <div class="role-title">Quick Legal Q&A</div>
      <p class="role-desc">No need to upload anything. Just type your legal question directly in Telegram and get an instant AI answer. Perfect for quick doubts on the go.</p>
      <div class="chat-mock">
        <div class="chat-msg">
          <div class="chat-label right">You</div>
          <div class="chat-bubble user">Can my landlord increase rent without giving notice?</div>
        </div>
        <div class="chat-msg" style="margin-top:10px;">
          <div class="chat-label">LegalEase Bot ğŸ¤–</div>
          <div class="chat-bubble bot">No! Under the Indian Rent Control Act, your landlord must give at least <strong>3 months written notice</strong> before increasing rent. Any sudden increase is legally challengeable. ğŸ’¡</div>
        </div>
      </div>
    </div>

    <div class="role-card multilang">
      <div class="role-tag multilang">ğŸŒ Role 2</div>
      <div class="role-title">Multilingual Support</div>
      <p class="role-desc">Send a message in any language â€” Hindi, Tamil, Telugu, Bengali, or English â€” and the bot detects and replies in your language automatically.</p>
      <div class="lang-pills">
        <div class="lang-pill active">ğŸ‡®ğŸ‡³ Hindi</div>
        <div class="lang-pill">ğŸ‡®ğŸ‡³ Tamil</div>
        <div class="lang-pill">ğŸ‡®ğŸ‡³ Telugu</div>
        <div class="lang-pill">ğŸ‡®ğŸ‡³ Bengali</div>
        <div class="lang-pill">ğŸ‡¬ğŸ‡§ English</div>
        <div class="lang-pill">+ more</div>
      </div>
      <div class="chat-mock">
        <div class="chat-msg">
          <div class="chat-label right">You</div>
          <div class="chat-bubble user">à¤•à¥à¤¯à¤¾ à¤®à¥ˆà¤‚ à¤¬à¤¿à¤¨à¤¾ à¤¨à¥‹à¤Ÿà¤¿à¤¸ à¤•à¥‡ à¤¨à¥Œà¤•à¤°à¥€ à¤›à¥‹à¤¡à¤¼ à¤¸à¤•à¤¤à¤¾ à¤¹à¥‚à¤?</div>
        </div>
        <div class="chat-msg" style="margin-top:10px;">
          <div class="chat-label">LegalEase Bot ğŸ¤–</div>
          <div class="chat-bubble bot">à¤¨à¤¹à¥€à¤‚, à¤†à¤®à¤¤à¥Œà¤° à¤ªà¤° à¤†à¤ªà¤•à¥‹ <strong>30 à¤¦à¤¿à¤¨ à¤•à¤¾ à¤¨à¥‹à¤Ÿà¤¿à¤¸</strong> à¤¦à¥‡à¤¨à¤¾ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆà¥¤ à¤¬à¤¿à¤¨à¤¾ à¤¨à¥‹à¤Ÿà¤¿à¤¸ à¤•à¥‡ à¤›à¥‹à¤¡à¤¼à¤¨à¥‡ à¤ªà¤° à¤µà¥‡à¤¤à¤¨ à¤•à¤¾à¤Ÿà¤¾ à¤œà¤¾ à¤¸à¤•à¤¤à¤¾ à¤¹à¥ˆà¥¤ ğŸ“‹</div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="access-section">
  <div class="section-tag">ğŸš€ Access Options</div>
  <div class="section-title">Two ways to use LegalEase</div>
  <p class="section-sub" style="margin:0 auto;">Whether on desktop or mobile â€” always accessible, always free.</p>
  <div class="access-cards">
    <div class="access-card">
      <div class="access-card-icon">ğŸŒ</div>
      <div class="access-card-title">Web App</div>
      <p class="access-card-desc">Upload contracts on browser. Get detailed formatted analysis with downloadable reports. Best for desktop users.</p>
      <a href="#analyze" class="btn-primary" style="width:100%;justify-content:center;">Open Web App</a>
    </div>
    <div class="access-card">
      <div class="access-card-icon">ğŸ’¬</div>
      <div class="access-card-title">Telegram Bot</div>
      <p class="access-card-desc">Ask legal questions instantly in your language â€” Hindi, Tamil, Telugu & more. No upload needed for Q&A.</p>
      <a href="https://web.telegram.org/k/#@AiWakeel_bot" target="_blank" class="btn-secondary" style="width:100%;justify-content:center;">Open Telegram Bot</a>
    </div>
  </div>
</section>

<footer>
  <div style="font-weight:800;font-size:1rem;background:linear-gradient(135deg,var(--blue),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;">âš–ï¸ LegalEase</div>
  <div>Built for TerraCode Convergence Hackathon 2025</div>
  <div>Free Â· Open Â· For Everyone</div>
</footer>

<script>
  let selectedFile = null;

  // â”€â”€ Handle file selection â”€â”€
  function handleFileSelect(input) {
    const file = input.files[0];
    if (!file) return;

    if (!file.name.toLowerCase().endsWith('.pdf')) {
      showError('Only PDF files are supported.');
      return;
    }

    if (file.size > 10 * 1024 * 1024) {
      showError('File is too large. Maximum size is 10MB.');
      return;
    }

    selectedFile = file;
    hideError();

    const sizeMB = (file.size / (1024 * 1024)).toFixed(1);
    document.getElementById('uploadTitle').textContent = 'âœ… ' + file.name;
    document.getElementById('uploadSub').textContent = sizeMB + ' MB Â· Ready to analyze';
    document.getElementById('uploadArea').classList.add('active');
  }

  // â”€â”€ Run real analysis â”€â”€
  async function runAnalysis() {
    if (!selectedFile) {
      showError('Please select a PDF file first.');
      return;
    }

    hideError();
    document.getElementById('results').classList.remove('show');
    document.getElementById('loading').classList.add('show');
    document.getElementById('analyzeBtn').disabled = true;

    const formData = new FormData();
    formData.append('contract', selectedFile);

    try {
      const response = await fetch('/analyze', {
        method: 'POST',
        body: formData
      });

      const data = await response.json();

      document.getElementById('loading').classList.remove('show');
      document.getElementById('analyzeBtn').disabled = false;

      if (data.error) {
        showError('Error: ' + data.error);
        return;
      }

      renderResults(data.result);

    } catch (err) {
      document.getElementById('loading').classList.remove('show');
      document.getElementById('analyzeBtn').disabled = false;
      showError('Something went wrong. Make sure Flask is running and try again.');
    }
  }

  // â”€â”€ Render real Gemini results into the UI â”€â”€
  function renderResults(result) {
    const panel = document.getElementById('results');
    const verdictLower = (result.verdict || 'negotiate').toLowerCase();
    const verdictEmoji = verdictLower === 'sign' ? 'âœ…' : verdictLower === 'avoid' ? 'ğŸš«' : 'âš ï¸';

    const buildClauses = (items, cls) =>
      items && items.length
        ? items.map(c => `<div class="clause-item ${cls}"><span class="ctitle">${c.title}:</span> ${c.detail}</div>`).join('')
        : `<div class="clause-item info">None detected.</div>`;

    const buildText = (text) =>
      `<div class="clause-item info">${text || 'Not specified.'}</div>`;

    const section = (titleHtml, cls, content) =>
      `<div class="result-section">
        <div class="result-section-title ${cls}">${titleHtml}</div>
        ${content}
      </div>`;

    // Clauses first, verdict + summary as conclusion at bottom
    panel.innerHTML =
      `${section('âš ï¸ Risky Clauses', 'danger', buildClauses(result.risky_clauses, 'danger'))}
      ${section('âœ… Safe Clauses', 'safe', buildClauses(result.safe_clauses, 'safe'))}
      ${section('ğŸ•µï¸ Hidden Traps', 'trap', buildClauses(result.hidden_traps, 'trap'))}
      ${section('ğŸ’° Financial Obligations', 'info', buildText(result.financial_obligations))}
      ${section('ğŸšª Exit Conditions', 'info', buildText(result.exit_conditions))}
      <div class="summary-card">ğŸ“ ${result.summary || ''}</div>
      <div class="verdict-banner ${verdictLower}">
        <div class="verdict-emoji">${verdictEmoji}</div>
        <div class="verdict-text-group">
          <div class="verdict-label">${result.verdict}</div>
          <div class="verdict-reason-text">${result.verdict_reason || ''}</div>
        </div>
      </div>`;

    panel.classList.add('show');
  }

  // â”€â”€ Error helpers â”€â”€
  function showError(msg) {
    const el = document.getElementById('errorMsg');
    el.textContent = msg;
    el.classList.add('show');
  }

  function hideError() {
    document.getElementById('errorMsg').classList.remove('show');
  }

  // â”€â”€ Smooth scroll for nav links â”€â”€
  document.querySelectorAll('a[href^="#"]').forEach(a => {
    a.addEventListener('click', e => {
      e.preventDefault();
      document.querySelector(a.getAttribute('href'))?.scrollIntoView({ behavior: 'smooth' });
    });
  });
</script>
</body>
</html>
